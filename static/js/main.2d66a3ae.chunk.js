(this["webpackJsonprubiks-slide"]=this["webpackJsonprubiks-slide"]||[]).push([[0],{21:function(e,t,n){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__2Pl3i"}},24:function(e,t,n){e.exports={Modal:"Modal_Modal__1PApi"}},25:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__3V2qq"}},3:function(e,t,n){e.exports={ControlButton:"ControlButton_ControlButton__2NvXY",Triangle:"ControlButton_Triangle__1I1ev",Rotate:"ControlButton_Rotate__1M9ZR",TriangleUp:"ControlButton_TriangleUp__2Icwb",TriangleDown:"ControlButton_TriangleDown__21t4w",TriangleLeft:"ControlButton_TriangleLeft__5WE_R",TriangleRight:"ControlButton_TriangleRight__2mn0H",RotateRight:"ControlButton_RotateRight__2H_Id",RotateLeft:"ControlButton_RotateLeft__QwpET"}},4:function(e,t,n){e.exports={RotateLeft:"Grid_RotateLeft__Hhcwo",rotateLeft:"Grid_rotateLeft__NifF-",RotateRight:"Grid_RotateRight__1s6Iw",rotateRight:"Grid_rotateRight__2VGH2",MoveUp:"Grid_MoveUp__3LPuw",moveUp:"Grid_moveUp__3Wjzw",MoveDown:"Grid_MoveDown__1VSIT",moveDown:"Grid_moveDown__2qiQ6",MoveLeft:"Grid_MoveLeft__24Urm",moveLeft:"Grid_moveLeft__1rndx",MoveRight:"Grid_MoveRight__2fMhb",moveRight:"Grid_moveRight__3gLMQ",Solved:"Grid_Solved__3VxYT",solved:"Grid_solved__1_3Ur",Row:"Grid_Row__6MaIY",MiniRow:"Grid_MiniRow__1gG3C"}},40:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(1),i=n.n(o),a=n(12),c=n.n(a),s=n(14),l=n(7),u=n(20),d=(n(40),n(2)),j=n(11),_=n(5),p=n.n(_),b=n(27);function h(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((function(e,n){return e===t[n]}))}function m(e){for(var t,n,r=Object(b.a)(e),o=r.length-1;o>0;o--)t=Math.floor(Math.random()*(o+1)),n=r[o],r[o]=r[t],r[t]=n;return r}function v(e,t){if(!Array.isArray(e)||!Array.isArray(t)||9!==e.length||9!==t.length)throw new Error("startGrid and targetGrid should be arrays of length 9.");var n="";return e.forEach((function(e){n+=e})),t.forEach((function(e){n+=e})),n}var f=function(e,t){var n=Object(o.useRef)();Object(o.useEffect)((function(){n.current=e}),[e]),Object(o.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])},O="INITIALIZE_SESSION",x="SET_DIFFICULTY_HARD",g="SET_DIFFICULTY_NORMAL",k="INCREMENT_SOLVED",S="INCREMENT_SKIPPED",w=n(6),C=n.n(w),R=function(e){var t=[C.a.Button];switch(e.size){case"menu":t.push(C.a.Menu);break;case"control":t.push(C.a.Control);break;case"next":t.push(C.a.Next)}return e.normal&&t.push(C.a.Normal),e.next&&t.push(C.a.Next),e.on&&t.push(C.a.On),Object(r.jsx)("button",{className:t.join(" "),onClick:e.onClick,type:e.type,disabled:e.disabled,children:e.children})},y=n(3),N=n.n(y),T=function(e){var t=[N.a.ControlButton];switch(e.type){case"moveUp":t.push(N.a.Triangle),t.push(N.a.TriangleUp);break;case"moveDown":t.push(N.a.Triangle),t.push(N.a.TriangleDown);break;case"moveLeft":t.push(N.a.Triangle),t.push(N.a.TriangleLeft);break;case"moveRight":t.push(N.a.Triangle),t.push(N.a.TriangleRight);break;case"rotateLeft":t.push(N.a.Rotate),t.push(N.a.RotateLeft);break;case"rotateRight":t.push(N.a.Rotate),t.push(N.a.RotateRight)}return e.normal&&t.push(N.a.Normal),e.next&&t.push(N.a.Next),e.on&&t.push(N.a.On),Object(r.jsx)("button",{"aria-label":e.type.replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()})),className:t.join(" "),onClick:e.onClick,type:e.type,disabled:e.disabled,children:e.children})},M=n(21),L=n.n(M),A=function(e){return Object(r.jsxs)("div",{className:L.a.DrawerToggle,onClick:e.click,children:[Object(r.jsx)("div",{}),Object(r.jsx)("div",{}),Object(r.jsx)("div",{})]})},B=n(8),D=n.n(B),G=function(e){var t=[];switch(e.mini?t.push(D.a.MiniSquare):t.push(D.a.Square),e.color){case 1:t.push(D.a.Blue);break;case 2:t.push(D.a.Red);break;case 3:t.push(D.a.Green)}return Object(r.jsx)("div",{className:t.join(" ")})},I=n(4),U=n.n(I),E=function(e){var t=[];switch(e.movement){case"rotateLeft":t=[U.a.Grid,U.a.RotateLeft];break;case"rotateRight":t=[U.a.Grid,U.a.RotateRight];break;case"moveUp":t=[U.a.Grid,U.a.MoveUp];break;case"moveDown":t=[U.a.Grid,U.a.MoveDown];break;case"moveLeft":t=[U.a.Grid,U.a.MoveLeft];break;case"moveRight":t=[U.a.Grid,U.a.MoveRight]}return e.isSolved&&t.push(U.a.Solved),t&&(t=t.join(" ")),Object(r.jsxs)("div",{className:t,children:[Object(r.jsxs)("div",{className:U.a.Row,children:[Object(r.jsx)(G,{color:e.matrix[0],mini:e.mini}),Object(r.jsx)(G,{color:e.matrix[1],mini:e.mini}),Object(r.jsx)(G,{color:e.matrix[2],mini:e.mini})]}),Object(r.jsxs)("div",{className:U.a.Row,children:[Object(r.jsx)(G,{color:e.matrix[3],mini:e.mini}),Object(r.jsx)(G,{color:e.matrix[4],mini:e.mini}),Object(r.jsx)(G,{color:e.matrix[5],mini:e.mini})]}),Object(r.jsxs)("div",{className:U.a.Row,children:[Object(r.jsx)(G,{color:e.matrix[6],mini:e.mini}),Object(r.jsx)(G,{color:e.matrix[7],mini:e.mini}),Object(r.jsx)(G,{color:e.matrix[8],mini:e.mini})]})]})},q=n(22),F=n(23),P=n(28),z=n(26),Y=n(24),Q=n.n(Y),H=n(25),V=n.n(H),W=function(e){return e.show?Object(r.jsx)("div",{className:V.a.Backdrop,onClick:e.click}):null},J=function(e){Object(P.a)(n,e);var t=Object(z.a)(n);function n(){return Object(q.a)(this,n),t.apply(this,arguments)}return Object(F.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){return Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsx)(W,{show:this.props.show,click:this.props.modalClosed}),Object(r.jsx)("div",{className:Q.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"},children:this.props.children})]})}}]),n}(o.Component),Z=n(9),K=n.n(Z);function X(e){var t=[K.a.SideDrawer,K.a.Close];return e.open&&(t=[K.a.SideDrawer,K.a.Open]),Object(r.jsxs)(i.a.Fragment,{children:[Object(r.jsx)("div",{}),Object(r.jsxs)("div",{className:t.join(" "),children:[e.children,Object(r.jsx)("button",{className:K.a.CloseButton,onClick:e.click,children:"Close"})]})]})}var $=Object(s.b)((function(e){return{numberSolved:e.session.numberSolved,numberSkipped:e.session.numberSkipped,difficulty:e.session.difficulty}}),(function(e){return{setDifficulty:function(t){return e(function(e){var t=g;return"hard"===e&&(t=x),{type:t}}(t))},incrementSkipped:function(){return e({type:S})},incrementSolved:function(){return e({type:k})},initializeSession:function(){return e({type:O})}}}))((function(e){var t=Object(o.useState)({matrix:[0,0,0,0,0,0,0,0,0],target:[0,0,0,0,0,0,0,0,0],gameId:"",isSolved:null,moveCount:0}),n=Object(j.a)(t,2),i=n[0],a=n[1],c=Object(o.useRef)(i),s=Object(o.useState)(!1),l=Object(j.a)(s,2),u=l[0],_=l[1],b=Object(o.useState)({isAutoplay:!1,isStart:!0,showMenu:!1,difficulty:"normal",resetDelay:500,isFirstLoad:!0}),O=Object(j.a)(b,2),x=O[0],g=O[1],k=Object(o.useState)(""),S=Object(j.a)(k,2),w=S[0],C=S[1];f((function(){x.isAutoplay&&(i.isSolved?g(Object(d.a)(Object(d.a)({},x),{},{isAutoplay:!1})):function(){switch(Math.floor(5*Math.random())){case 0:M("rotateLeft");break;case 1:M("rotateRight");break;case 2:M("moveUp");break;case 3:M("moveDown");break;case 4:M("moveLeft");break;case 5:M("moveRight")}}())}));var y=function(e){c.current.isSolved||("w"!==e.key&&"W"!==e.key&&38!==e.keyCode||M("moveUp",!0),"s"!==e.key&&"S"!==e.key&&40!==e.keyCode||M("moveDown",!0),"a"!==e.key&&"A"!==e.key&&37!==e.keyCode||M("moveLeft",!0),"d"!==e.key&&"D"!==e.key&&39!==e.keyCode||M("moveRight",!0),"q"!==e.key&&"Q"!==e.key&&33!==e.keyCode||M("rotateLeft",!0),"e"!==e.key&&"E"!==e.key&&34!==e.keyCode||M("rotateRight",!0))};function N(e){var t=1,n=4;"hard"===e&&(t=2,n=5);for(var r,o=Math.floor(Math.random()*(n-1))+2,i=0,s=[],l=0;l<9;l++)if(i<o){switch(r=Math.floor(Math.random()*t),l<2&&t>1&&(0===l&&(r=0),1===l&&(r=1)),r){case 0:s.push(1);break;case 1:s.push(2);break;case 2:s.push(3);break;default:s.push(0)}i+=1}else s.push(0);var u=m(s),d=m(s);if(h(u,d))for(;h(u,d);)d=m(s);var j={matrix:u,target:d,gameId:v(u,d),isSolved:!1,moveCount:0};a(j),c.current=j,console.log(c.current)}function M(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=i.matrix,r=i.target;switch(t&&(n=c.current.matrix,r=c.current.target),console.log(n),e){case"rotateLeft":n=[n[1],n[2],n[5],n[0],n[4],n[8],n[3],n[6],n[7]];break;case"rotateRight":n=[n[3],n[0],n[1],n[6],n[4],n[2],n[7],n[8],n[5]];break;case"moveUp":n=[n[3],n[4],n[5],n[6],n[7],n[8],n[0],n[1],n[2]];break;case"moveDown":n=[n[6],n[7],n[8],n[0],n[1],n[2],n[3],n[4],n[5]];break;case"moveLeft":n=[n[1],n[2],n[0],n[4],n[5],n[3],n[7],n[8],n[6]];break;case"moveRight":n=[n[2],n[0],n[1],n[5],n[3],n[4],n[8],n[6],n[7]]}console.log(n,r),L(n,!0),C(e),setTimeout((function(){return C("")}),500)}function L(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=i.moveCount+1,o=!1,s=i,l=i.target;n&&(r=c.current.moveCount+1,s=c.current,l=c.current.target),h(t,l)&&(o=!0,x.isAutoplay?e.incrementSkipped():e.incrementSolved());var u=Object(d.a)(Object(d.a)({},s),{},{matrix:t,isSolved:o,moveCount:r});a(u),c.current=u}function B(t){e.initializeSession(),e.setDifficulty(t),g(Object(d.a)({},x)),N(t),D(),_(!1)}function D(){var e=!x.isStart;g(Object(d.a)(Object(d.a)({},x),{},{isStart:e}))}Object(o.useEffect)((function(){return window.addEventListener("keydown",y),function(){window.removeEventListener("keydown",y)}}));var G=null;return i.isSolved&&(G=Object(r.jsx)(R,{size:"next",onClick:function(){return N(e.difficulty)},children:"Next \u2192"})),Object(r.jsxs)("div",{className:p.a.App,children:[Object(r.jsxs)(J,{show:x.isStart,modalClosed:D,children:[Object(r.jsx)("h2",{children:"Select Difficulty:"}),Object(r.jsx)(R,{size:"menu",onClick:function(){return B("normal")},children:"Normal"}),Object(r.jsx)("br",{}),Object(r.jsx)(R,{size:"menu",onClick:function(){return B("hard")},children:"Hard"}),Object(r.jsx)("br",{}),Object(r.jsx)("br",{}),Object(r.jsx)("button",{onClick:D,children:"Cancel"})]}),Object(r.jsxs)(X,{open:u,click:function(){return _(!u)},children:[Object(r.jsx)("h2",{children:"Menu"}),Object(r.jsx)(R,{size:"menu",onClick:D,children:"New Game"}),Object(r.jsx)(R,{size:"menu",onClick:function(){e.incrementSkipped(),N(e.difficulty)},children:"Skip"}),Object(r.jsx)(R,{size:"menu",onClick:function(){var e=!x.isAutoplay;g(Object(d.a)(Object(d.a)({},x),{},{isAutoplay:e}))},on:x.isAutoplay,children:"Autosolve"})]}),Object(r.jsxs)("div",{className:p.a.Top,children:[Object(r.jsx)("div",{className:p.a.Title,children:"Rubik's Slide"}),Object(r.jsx)("p",{children:"Press the arrows to shift and rotate the squares so that the design matches the target."}),Object(r.jsx)(A,{click:function(){return _(!u)}})]}),Object(r.jsxs)("div",{className:p.a.GridContainer,children:[Object(r.jsxs)("div",{className:p.a.Row,children:[Object(r.jsx)(T,{type:"rotateLeft",onClick:function(){return M("rotateLeft")},disabled:i.isSolved}),Object(r.jsx)(T,{type:"moveUp",onClick:function(){return M("moveUp")},disabled:i.isSolved}),Object(r.jsx)(T,{type:"rotateRight",onClick:function(){return M("rotateRight")},disabled:i.isSolved})]}),Object(r.jsxs)("div",{className:p.a.CenterRow,children:[Object(r.jsx)(T,{type:"moveLeft",onClick:function(){return M("moveLeft")},disabled:i.isSolved}),Object(r.jsx)(E,{matrix:i.matrix,movement:w,isSolved:i.isSolved}),Object(r.jsx)(T,{type:"moveRight",onClick:function(){return M("moveRight")},disabled:i.isSolved})]}),Object(r.jsx)("div",{className:p.a.Row,children:Object(r.jsx)(T,{type:"moveDown",onClick:function(){return M("moveDown")},disabled:i.isSolved})})]}),Object(r.jsx)("div",{className:p.a.NextButton,children:G}),Object(r.jsxs)("div",{className:p.a.ControlBar,children:[Object(r.jsxs)("div",{className:p.a.Score,children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("strong",{children:"Solved"}),": ",e.numberSolved]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("strong",{children:"Skipped"}),": ",e.numberSkipped]}),Object(r.jsxs)("div",{children:[Object(r.jsx)("strong",{children:"Moves Current Puzzle"}),": ",i.moveCount]})]}),Object(r.jsxs)("div",{className:p.a.Panel,children:[Object(r.jsx)("div",{className:p.a.TargetTitle,children:"Target"}),Object(r.jsx)(E,{matrix:c.current.target,mini:!0})]})]})]})})),ee=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,42)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),o(e),i(e),a(e)}))},te={difficulty:"normal",numberSolved:0,numberSkipped:0},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return{difficulty:"normal",numberSolved:0,numberSkipped:0};case g:return Object(d.a)(Object(d.a)({},e),{},{difficulty:"normal"});case x:return Object(d.a)(Object(d.a)({},e),{},{difficulty:"hard"});case S:var n=e.numberSkipped+1;return Object(d.a)(Object(d.a)({},e),{},{numberSkipped:n});case k:var r=e.numberSolved+1;return Object(d.a)(Object(d.a)({},e),{},{numberSolved:r});default:return e}},re=l.d,oe=Object(l.c)({session:ne}),ie=Object(l.e)(oe,re(Object(l.a)(u.a)));c.a.render(Object(r.jsx)(s.a,{store:ie,children:Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)($,{})})}),document.getElementById("root")),ee()},5:function(e,t,n){e.exports={App:"App_App__F0HPs",Top:"App_Top__22U5k",Title:"App_Title__2_W2x",GameId:"App_GameId__L9bOY",GridContainer:"App_GridContainer__3_mmQ",CenterRow:"App_CenterRow__3RO68",NextButton:"App_NextButton__18o8k",Row:"App_Row__2EGmM",ControlBar:"App_ControlBar__2N48x",ControlRow:"App_ControlRow__1s0Mp",Score:"App_Score__W5_t0",Spacer:"App_Spacer__3F9b4",Panel:"App_Panel__1Fv_Y",TargetTitle:"App_TargetTitle__2PpnP"}},6:function(e,t,n){e.exports={Button:"Button_Button__2xyKz",Control:"Button_Control__3Q_qR",Menu:"Button_Menu__1ZFQc",Normal:"Button_Normal__1pDs1",Next:"Button_Next__bQRYG",On:"Button_On__2yxMw"}},8:function(e,t,n){e.exports={Square:"Square_Square__3UJus",MiniSquare:"Square_MiniSquare__398P5",Blue:"Square_Blue__2JaSC",Green:"Square_Green__2xakt",Red:"Square_Red__iFuRe",Yellow:"Square_Yellow__5izGy"}},9:function(e,t,n){e.exports={SideDrawer:"SideDrawer_SideDrawer__3gkrX",Open:"SideDrawer_Open__2VEvt",Close:"SideDrawer_Close__3KCtU",CloseButton:"SideDrawer_CloseButton__1U0sI"}}},[[41,1,2]]]);
//# sourceMappingURL=main.2d66a3ae.chunk.js.map
(this["webpackJsonprubiks-slide"]=this["webpackJsonprubiks-slide"]||[]).push([[0],{12:function(e,t,n){e.exports={Square:"Square_Square__3UJus",MiniSquare:"Square_MiniSquare__398P5",Blue:"Square_Blue__2JaSC",Green:"Square_Green__2xakt",Red:"Square_Red__iFuRe",Yellow:"Square_Yellow__5izGy"}},13:function(e,t,n){e.exports={SideDrawer:"SideDrawer_SideDrawer__3gkrX",Open:"SideDrawer_Open__2VEvt",Close:"SideDrawer_Close__3KCtU",CloseButton:"SideDrawer_CloseButton__1U0sI"}},19:function(e,t,n){e.exports={App:"App_App__F0HPs",Top:"App_Top__22U5k",Title:"App_Title__2_W2x",GameId:"App_GameId__L9bOY",CenterRow:"App_CenterRow__3RO68",ControlRow:"App_ControlRow__1s0Mp",Spacer:"App_Spacer__3F9b4",Score:"App_Score__W5_t0"}},3:function(e,t,n){e.exports={RotateLeft:"Grid_RotateLeft__Hhcwo",rotateLeft:"Grid_rotateLeft__NifF-",RotateRight:"Grid_RotateRight__1s6Iw",rotateRight:"Grid_rotateRight__2VGH2",MoveUp:"Grid_MoveUp__3LPuw",moveUp:"Grid_moveUp__3Wjzw",MoveDown:"Grid_MoveDown__1VSIT",moveDown:"Grid_moveDown__2qiQ6",MoveLeft:"Grid_MoveLeft__24Urm",moveLeft:"Grid_moveLeft__1rndx",MoveRight:"Grid_MoveRight__2fMhb",moveRight:"Grid_moveRight__3gLMQ",Solved:"Grid_Solved__3VxYT",solved:"Grid_solved__1_3Ur",Row:"Grid_Row__6MaIY",MiniRow:"Grid_MiniRow__1gG3C"}},30:function(e,t,n){e.exports={Modal:"Modal_Modal__1PApi"}},31:function(e,t,n){e.exports={Backdrop:"Backdrop_Backdrop__3V2qq"}},4:function(e,t,n){e.exports={ControlButton:"ControlButton_ControlButton__2NvXY",Triangle:"ControlButton_Triangle__1I1ev",Rotate:"ControlButton_Rotate__1M9ZR",TriangleUp:"ControlButton_TriangleUp__2Icwb",TriangleDown:"ControlButton_TriangleDown__21t4w",TriangleLeft:"ControlButton_TriangleLeft__5WE_R",TriangleRight:"ControlButton_TriangleRight__2mn0H",RotateRight:"ControlButton_RotateRight__2H_Id",RotateLeft:"ControlButton_RotateLeft__QwpET"}},45:function(e,t,n){},48:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),i=n(16),a=n.n(i),c=n(18),s=n(9),l=n(24),u=(n(45),n(2)),d=n(15),b=n(19),j=n.n(b),p=n(33);function h(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length&&e.every((function(e,n){return e===t[n]}))}function m(e,t){switch(t){case"rotateLeft":return[e[1],e[2],e[5],e[0],e[4],e[8],e[3],e[6],e[7]];case"rotateRight":return[e[3],e[0],e[1],e[6],e[4],e[2],e[7],e[8],e[5]];case"moveUp":return[e[3],e[4],e[5],e[6],e[7],e[8],e[0],e[1],e[2]];case"moveDown":return[e[6],e[7],e[8],e[0],e[1],e[2],e[3],e[4],e[5]];case"moveLeft":return[e[1],e[2],e[0],e[4],e[5],e[3],e[7],e[8],e[6]];case"moveRight":return[e[2],e[0],e[1],e[5],e[3],e[4],e[8],e[6],e[7]];default:return e}}function _(e){for(var t,n,r=Object(p.a)(e),o=r.length-1;o>0;o--)t=Math.floor(Math.random()*(o+1)),n=r[o],r[o]=r[t],r[t]=n;return r}function v(e,t){if(!Array.isArray(e)||!Array.isArray(t)||9!==e.length||9!==t.length)throw new Error("startGrid and targetGrid should be arrays of length 9.");var n="";return e.forEach((function(e){n+=e})),t.forEach((function(e){n+=e})),n}var f=function(e,t){var n=Object(r.useRef)();Object(r.useEffect)((function(){n.current=e}),[e]),Object(r.useEffect)((function(){if(null!==t){var e=setInterval((function(){n.current()}),t);return function(){return clearInterval(e)}}}),[t])},g="INITIALIZE_SESSION",x="SET_DIFFICULTY_HARD",O="SET_DIFFICULTY_NORMAL",k="INCREMENT_SOLVED",w="INCREMENT_SKIPPED",S=n(7),y=n.n(S),C=n(0);function R(e){var t=[y.a.bar1],n=[y.a.bar2],r=[y.a.bar3];return e.showSideDrawer&&(t.push(y.a.open1),n.push(y.a.open2),r.push(y.a.open3)),Object(C.jsxs)("div",{className:y.a.DrawerToggle,onClick:e.click,children:[Object(C.jsx)("div",{className:t.join(" ")}),Object(C.jsx)("div",{className:n.join(" ")}),Object(C.jsx)("div",{className:r.join(" ")})]})}var D,T,M,L,G=n(5),N=n(6),A=n(12),B=n.n(A),I=function(e){var t=[];switch(e.mini?t.push(B.a.MiniSquare):t.push(B.a.Square),e.color){case 1:t.push(B.a.Blue);break;case 2:t.push(B.a.Red);break;case 3:t.push(B.a.Green)}return Object(C.jsx)("div",{className:t.join(" ")})},U=n(3),E=n.n(U),q=function(e){var t=[];switch(e.movement){case"rotateLeft":t=[E.a.Grid,E.a.RotateLeft];break;case"rotateRight":t=[E.a.Grid,E.a.RotateRight];break;case"moveUp":t=[E.a.Grid,E.a.MoveUp];break;case"moveDown":t=[E.a.Grid,E.a.MoveDown];break;case"moveLeft":t=[E.a.Grid,E.a.MoveLeft];break;case"moveRight":t=[E.a.Grid,E.a.MoveRight]}return e.isSolved&&t.push(E.a.Solved),t&&(t=t.join(" ")),Object(C.jsxs)("div",{className:t,children:[Object(C.jsxs)("div",{className:E.a.Row,children:[Object(C.jsx)(I,{color:e.matrix[0],mini:e.mini}),Object(C.jsx)(I,{color:e.matrix[1],mini:e.mini}),Object(C.jsx)(I,{color:e.matrix[2],mini:e.mini})]}),Object(C.jsxs)("div",{className:E.a.Row,children:[Object(C.jsx)(I,{color:e.matrix[3],mini:e.mini}),Object(C.jsx)(I,{color:e.matrix[4],mini:e.mini}),Object(C.jsx)(I,{color:e.matrix[5],mini:e.mini})]}),Object(C.jsxs)("div",{className:E.a.Row,children:[Object(C.jsx)(I,{color:e.matrix[6],mini:e.mini}),Object(C.jsx)(I,{color:e.matrix[7],mini:e.mini}),Object(C.jsx)(I,{color:e.matrix[8],mini:e.mini})]})]})},z=N.a.div(D||(D=Object(G.a)(["\n  overflow: hidden;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  z-index: 50;\n  background-color: inherit;\n  display: flex;\n  justify-content: space-between;\n  padding: 0.25rem 0rem;\n  align-items: top;\n  height: 18vh;\n  width: 100%;\n"]))),F=N.a.div(T||(T=Object(G.a)(["\n  text-align: left;\n  margin: 0 auto;\n  font-size: 0.8rem;\n  /* border: 2px solid rgba(0, 0, 0, 0.25); */\n  padding: 6px;\n  border-radius: 4px;\n  width: 60vw;\n  height: 60%;\n  /* background-color: rgba(0, 0, 0, 0.05); */\n"]))),P=N.a.div(M||(M=Object(G.a)(["\n  width: 25vw;\n  justify-content: left;\n  align-items: top;\n  display: flex;\n  flex-direction: column;\n"]))),Y=N.a.div(L||(L=Object(G.a)(["\n  font: 1rem;\n  font-weight: bold;\n"])));function H(e){return Object(C.jsxs)(z,{children:[Object(C.jsxs)(F,{children:[Object(C.jsxs)("div",{children:[Object(C.jsx)("strong",{children:"Solved"}),": ",e.numberSolved]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("strong",{children:"Skipped"}),": ",e.numberSkipped]}),Object(C.jsxs)("div",{children:[Object(C.jsx)("strong",{children:"Moves Current Puzzle"}),": ",e.moveCount]})]}),Object(C.jsxs)(P,{children:[Object(C.jsx)(Y,{children:"Target"}),Object(C.jsx)(q,{matrix:e.targetGrid,mini:!0})]})]})}var Q,V,J=n(4),W=n.n(J),Z=function(e){var t=[W.a.ControlButton];switch(e.type){case"moveUp":t.push(W.a.Triangle),t.push(W.a.TriangleUp);break;case"moveDown":t.push(W.a.Triangle),t.push(W.a.TriangleDown);break;case"moveLeft":t.push(W.a.Triangle),t.push(W.a.TriangleLeft);break;case"moveRight":t.push(W.a.Triangle),t.push(W.a.TriangleRight);break;case"rotateLeft":t.push(W.a.Rotate),t.push(W.a.RotateLeft);break;case"rotateRight":t.push(W.a.Rotate),t.push(W.a.RotateRight)}return e.normal&&t.push(W.a.Normal),e.next&&t.push(W.a.Next),e.on&&t.push(W.a.On),Object(C.jsx)("button",{"aria-label":e.type.replace(/([A-Z])/g," $1").replace(/^./,(function(e){return e.toUpperCase()})),className:t.join(" "),onClick:e.onClick,type:e.type,disabled:e.disabled,children:e.children})},K=N.a.div(Q||(Q=Object(G.a)(["\n  overflow: hidden;\n  min-height: 200px;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  height: 45vh;\n"]))),X=N.a.div(V||(V=Object(G.a)(["\n  margin: 0px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"])));function $(e){return Object(C.jsxs)(K,{children:[Object(C.jsxs)(X,{children:[Object(C.jsx)(Z,{type:"rotateLeft",onClick:function(){return e.slide("rotateLeft")},disabled:e.isSolved}),Object(C.jsx)(Z,{type:"moveUp",onClick:function(){return e.slide("moveUp")},disabled:e.isSolved}),Object(C.jsx)(Z,{type:"rotateRight",onClick:function(){return e.slide("rotateRight")},disabled:e.isSolved})]}),Object(C.jsxs)(X,{children:[Object(C.jsx)(Z,{type:"moveLeft",onClick:function(){return e.slide("moveLeft")},disabled:e.isSolved}),Object(C.jsx)(q,{matrix:e.matrix,movement:e.movement,isSolved:e.isSolved}),Object(C.jsx)(Z,{type:"moveRight",onClick:function(){return e.slide("moveRight")},disabled:e.isSolved})]}),Object(C.jsx)(X,{children:Object(C.jsx)(Z,{type:"moveDown",onClick:function(){return e.slide("moveDown")},disabled:e.isSolved})})]})}var ee,te=n(8),ne=n.n(te),re=function(e){var t=[ne.a.Button];switch(e.size){case"menu":t.push(ne.a.Menu);break;case"control":t.push(ne.a.Control);break;case"next":t.push(ne.a.Next)}return e.normal&&t.push(ne.a.Normal),e.next&&t.push(ne.a.Next),e.on&&t.push(ne.a.On),Object(C.jsx)("button",{className:t.join(" "),onClick:e.onClick,type:e.type,disabled:e.disabled,children:e.children})},oe=N.a.div(ee||(ee=Object(G.a)(["\n  height: 10vh;\n  z-index: 100;\n  margin: 1rem;\n"]))),ie=function(e){return Object(C.jsx)(oe,{children:e.isSolved?Object(C.jsx)(re,{size:"next",onClick:function(){return e.newGame(e.difficulty)},children:"Next \u2192"}):null})},ae=n(28),ce=n(29),se=n(34),le=n(32),ue=n(30),de=n.n(ue),be=n(31),je=n.n(be),pe=function(e){return e.show?Object(C.jsx)("div",{className:je.a.Backdrop,onClick:e.click}):null},he=function(e){Object(se.a)(n,e);var t=Object(le.a)(n);function n(){return Object(ae.a)(this,n),t.apply(this,arguments)}return Object(ce.a)(n,[{key:"shouldComponentUpdate",value:function(e,t){return e.show!==this.props.show||e.children!==this.props.children}},{key:"render",value:function(){return Object(C.jsxs)(o.a.Fragment,{children:[Object(C.jsx)(pe,{show:this.props.show,click:this.props.modalClosed}),Object(C.jsx)("div",{className:de.a.Modal,style:{transform:this.props.show?"translateY(0)":"translateY(-100vh)",opacity:this.props.show?"1":"0"},children:this.props.children})]})}}]),n}(r.Component);function me(e){return Object(C.jsxs)(he,{show:e.show,modalClosed:e.modalClosed,children:[Object(C.jsx)("h2",{children:"Select Difficulty:"}),Object(C.jsx)(re,{size:"menu",onClick:function(){return e.startGameHandler("normal")},children:"Normal"}),Object(C.jsx)("br",{}),Object(C.jsx)(re,{size:"menu",onClick:function(){return e.startGameHandler("hard")},children:"Hard"}),Object(C.jsx)("br",{}),Object(C.jsx)("br",{}),Object(C.jsx)("button",{onClick:e.toggleStart,children:"Cancel"})]})}var _e=n(13),ve=n.n(_e);function fe(e){var t=[ve.a.SideDrawer,ve.a.Close];return e.open&&(t=[ve.a.SideDrawer,ve.a.Open]),Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(pe,{show:e.open,click:e.click}),Object(C.jsxs)("div",{className:t.join(" "),children:[Object(C.jsx)("h2",{children:"Menu"}),Object(C.jsx)(re,{size:"menu",onClick:e.clickNewGame,children:"New Game"}),Object(C.jsx)(re,{size:"menu",onClick:e.clickSkip,children:"Skip"}),Object(C.jsx)(re,{size:"menu",onClick:e.clickAutosolve,on:e.isAutoplay,children:"Autosolve"}),e.children,Object(C.jsx)("button",{className:ve.a.CloseButton,onClick:e.click,children:"Close"})]})]})}var ge=Object(c.b)((function(e){return{numberSolved:e.session.numberSolved,numberSkipped:e.session.numberSkipped,difficulty:e.session.difficulty}}),(function(e){return{setDifficulty:function(t){return e(function(e){var t=O;return"hard"===e&&(t=x),{type:t}}(t))},incrementSkipped:function(){return e({type:w})},incrementSolved:function(){return e({type:k})},initializeSession:function(){return e({type:g})}}}))((function(e){var t=Object(r.useState)({matrix:[0,0,0,0,0,0,0,0,0],target:[0,0,0,0,0,0,0,0,0],gameId:"",isSolved:null,moveCount:0}),n=Object(d.a)(t,2),o=n[0],i=n[1],a=Object(r.useRef)(o),c=Object(r.useState)(!1),s=Object(d.a)(c,2),l=s[0],b=s[1],p=Object(r.useState)({isAutoplay:!1,isStart:!0,showMenu:!1,difficulty:"normal",resetDelay:500,isFirstLoad:!0}),g=Object(d.a)(p,2),x=g[0],O=g[1],k=Object(r.useState)(""),w=Object(d.a)(k,2),S=w[0],y=w[1];f((function(){x.isAutoplay&&(o.isSolved?O(Object(u.a)(Object(u.a)({},x),{},{isAutoplay:!1})):function(){switch(Math.floor(5*Math.random())){case 0:M("rotateLeft");break;case 1:M("rotateRight");break;case 2:M("moveUp");break;case 3:M("moveDown");break;case 4:M("moveLeft");break;case 5:M("moveRight")}}())}));var D=function(e){a.current.isSolved||("w"!==e.key&&"W"!==e.key&&38!==e.keyCode||M("moveUp",!0),"s"!==e.key&&"S"!==e.key&&40!==e.keyCode||M("moveDown",!0),"a"!==e.key&&"A"!==e.key&&37!==e.keyCode||M("moveLeft",!0),"d"!==e.key&&"D"!==e.key&&39!==e.keyCode||M("moveRight",!0),"q"!==e.key&&"Q"!==e.key&&33!==e.keyCode||M("rotateLeft",!0),"e"!==e.key&&"E"!==e.key&&34!==e.keyCode||M("rotateRight",!0))};function T(e){var t=1,n=4;"hard"===e&&(t=2,n=5);for(var r,o=Math.floor(Math.random()*(n-1))+2,c=0,s=[],l=0;l<9;l++)if(c<o){switch(r=Math.floor(Math.random()*t),l<2&&t>1&&(0===l&&(r=0),1===l&&(r=1)),r){case 0:s.push(1);break;case 1:s.push(2);break;case 2:s.push(3);break;default:s.push(0)}c+=1}else s.push(0);var u=_(s),d=_(s);if(h(u,d))for(;h(u,d);)d=_(s);var b={matrix:u,target:d,gameId:v(u,d),isSolved:!1,moveCount:0};i(b),a.current=b,console.log(a.current)}function M(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=o.matrix,r=o.target;t&&(n=a.current.matrix,r=a.current.target),console.log(n),n=m(n,e),console.log(n,r),L(n,!0),y(e),setTimeout((function(){return y("")}),500)}function L(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=o.moveCount+1,c=!1,s=o,l=o.target;n&&(r=a.current.moveCount+1,s=a.current,l=a.current.target),h(t,l)&&(c=!0,x.isAutoplay?e.incrementSkipped():e.incrementSolved());var d=Object(u.a)(Object(u.a)({},s),{},{matrix:t,isSolved:c,moveCount:r});i(d),a.current=d}function G(){var e=!x.isStart;O(Object(u.a)(Object(u.a)({},x),{},{isStart:e}))}return Object(r.useEffect)((function(){return window.addEventListener("keydown",D),function(){window.removeEventListener("keydown",D)}})),Object(C.jsxs)("div",{className:j.a.App,children:[Object(C.jsx)(me,{show:x.isStart,modalClosed:G,startGameHandler:function(t){e.initializeSession(),e.setDifficulty(t),O(Object(u.a)({},x)),T(t),G(),b(!1)},toggleStart:G}),Object(C.jsx)(fe,{open:l,click:function(){return b(!l)},clickNewGame:G,clickSkip:function(){e.incrementSkipped(),T(e.difficulty)},clickAutosolve:function(){var e=!x.isAutoplay;O(Object(u.a)(Object(u.a)({},x),{},{isAutoplay:e}))},isAutoplay:x.isAutoplay}),Object(C.jsx)(R,{showSideDrawer:l,click:function(){return b(!l)}}),Object(C.jsxs)("div",{className:j.a.Top,children:[Object(C.jsx)("div",{className:j.a.Title,children:"Rubik's Slide"}),Object(C.jsx)("p",{children:"Press the arrows to shift and rotate the squares so that the design matches the target."})]}),Object(C.jsx)($,{isSolved:o.isSolved,matrix:o.matrix,movement:S,slide:M}),Object(C.jsx)(ie,{isSolved:o.isSolved,difficulty:e.difficulty,newGame:T}),Object(C.jsx)(H,{numberSolved:e.numberSolved,numberSkipped:e.numberSkipped,moveCount:o.moveCount,targetGrid:a.current.target})]})})),xe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,49)).then((function(t){var n=t.getCLS,r=t.getFID,o=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),o(e),i(e),a(e)}))},Oe={difficulty:"normal",numberSolved:0,numberSkipped:0},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g:return{difficulty:"normal",numberSolved:0,numberSkipped:0};case O:return Object(u.a)(Object(u.a)({},e),{},{difficulty:"normal"});case x:return Object(u.a)(Object(u.a)({},e),{},{difficulty:"hard"});case w:var n=e.numberSkipped+1;return Object(u.a)(Object(u.a)({},e),{},{numberSkipped:n});case k:var r=e.numberSolved+1;return Object(u.a)(Object(u.a)({},e),{},{numberSolved:r});default:return e}},we=s.d,Se=Object(s.c)({session:ke}),ye=Object(s.e)(Se,we(Object(s.a)(l.a)));a.a.render(Object(C.jsx)(c.a,{store:ye,children:Object(C.jsx)(o.a.StrictMode,{children:Object(C.jsx)(ge,{})})}),document.getElementById("root")),xe()},7:function(e,t,n){e.exports={DrawerToggle:"DrawerToggle_DrawerToggle__2Pl3i",bar1:"DrawerToggle_bar1__3Lnd1",bar2:"DrawerToggle_bar2__pQuJ-",bar3:"DrawerToggle_bar3__3dCSc",open1:"DrawerToggle_open1__39q9D",open2:"DrawerToggle_open2__2pb4c",open3:"DrawerToggle_open3__24vSV"}},8:function(e,t,n){e.exports={Button:"Button_Button__2xyKz",Control:"Button_Control__3Q_qR",Menu:"Button_Menu__1ZFQc",Normal:"Button_Normal__1pDs1",Next:"Button_Next__bQRYG",On:"Button_On__2yxMw"}}},[[48,1,2]]]);
//# sourceMappingURL=main.40cf6a98.chunk.js.map